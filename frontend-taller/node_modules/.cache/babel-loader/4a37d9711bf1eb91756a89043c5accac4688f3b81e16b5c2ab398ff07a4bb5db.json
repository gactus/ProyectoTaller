{"ast":null,"code":"import _regeneratorRuntime from\"C:/Mios/Proyectos/frontend-taller/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Mios/Proyectos/frontend-taller/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Mios/Proyectos/frontend-taller/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'../styleesheets/newLogin.css';import logo from'../imagenes/logo-container.png';import fondo from'../imagenes/fondo.png';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){var onLogin=_ref.onLogin;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(username,password){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('http://localhost:8010/api/login',{usuario:username,contrasena:password});case 3:response=_context.sent;return _context.abrupt(\"return\",{token:response.data.token});case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",{error:true});case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function login(_x,_x2){return _ref2.apply(this,arguments);};}();var handdlelogin=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return login(username,password);case 3:response=_context2.sent;if(response.error){setError(response.error);}else{onLogin(response.token);// Iniciar sesión con éxito utilizando el token devuelto\n}case 5:case\"end\":return _context2.stop();}},_callee2);}));return function handdlelogin(_x3){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"img\",children:/*#__PURE__*/_jsx(\"img\",{src:fondo,className:\"fondo\",alt:\"Header Graphic\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"login-form\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Header Graphic\",className:\"avatar\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Bienvenido\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-div uno focus\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"i\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-user\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Usuario:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setUsername(event.target.value);},className:\"input\",type:\"text\",placeholder:\"11111111-1\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-div dos focus\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"i\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-lock\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Contrase\\xF1a:\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(event){setPassword(event.target.value);},className:\"input\",type:\"password\",placeholder:\"Mi contrase\\xF1a\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handdlelogin,className:\"btn\",children:\"Ingresar\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:\"Usuario o contrase\\xF1a incorrectos\"})]})]}),/*#__PURE__*/_jsx(\"footer\",{children:\"Derechos Reservados \\xA92023, Leonhardt Mechanics Services.\"})]});}export default Login;","map":{"version":3,"names":["React","useState","logo","fondo","axios","jsx","_jsx","jsxs","_jsxs","Login","_ref","onLogin","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","_useState5","_useState6","error","setError","login","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","post","usuario","contrasena","sent","abrupt","token","data","t0","stop","_x","_x2","apply","arguments","handdlelogin","_ref3","_callee2","e","_callee2$","_context2","preventDefault","_x3","children","className","src","alt","onChange","event","target","value","type","placeholder","onClick"],"sources":["C:/Mios/Proyectos/frontend-taller/src/componentes/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../styleesheets/newLogin.css';\nimport logo from '../imagenes/logo-container.png';\nimport fondo from '../imagenes/fondo.png'\nimport axios from 'axios';\n\nfunction Login({ onLogin }) {\n\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, setError] = useState(null);\n\n    const login = async (username, password) => {\n        try {\n            const response = await axios.post('http://localhost:8010/api/login', {\n                usuario: username,\n                contrasena: password,\n            });\n\n            return { token: response.data.token }\n        } catch (error) {\n            return { error: true };\n        }\n    };\n\n    const handdlelogin = async (e) => {\n        e.preventDefault();\n\n        const response = await login(username, password)\n\n        if (response.error) {\n            setError(response.error);\n          } else {\n            onLogin(response.token); // Iniciar sesión con éxito utilizando el token devuelto\n          }\n    }\n\n    return (\n        <div>\n            <div className='container'>\n                <div className='img'>\n                    <img src={fondo} className='fondo' alt='Header Graphic'/>\n                </div>\n                <div className='login-container'>\n                    <div className='login-form'>\n                        <img src={logo} alt='Header Graphic' className='avatar'/>\n                        <h2>Bienvenido</h2>\n                        <div className='input-div uno focus'>\n                            <div className='i'>\n                                <i className='fa fa-user'></i>\n                            </div>\n                            <div>\n                                <h5>Usuario:</h5>\n                                <input onChange={(event) => {setUsername(event.target.value)}} className='input' type='text' placeholder='11111111-1'/>\n                            </div>\n                        </div>\n                        <div className='input-div dos focus'>\n                            <div className='i'>\n                                <i className='fa fa-lock'></i>\n                            </div>\n                            <div>\n                                <h5>Contraseña:</h5>\n                                <input onChange={(event) => {setPassword(event.target.value)}} className='input' type='password' placeholder='Mi contraseña'/>\n                            </div>\n                        </div>\n                        <button onClick={handdlelogin} className='btn'>Ingresar</button>\n                    </div>\n                    {error && <div className=\"error-message\">Usuario o contraseña incorrectos</div>}\n                </div>\n            </div>\n            <footer>\n                Derechos Reservados ©2023, Leonhardt Mechanics Services.\n            </footer>\n        </div>\n    );\n}\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}